<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 排序算法封装：
        function ArrayList() {
            this.array = [];
            ArrayList.prototype.insert = function(item) {
                this.array.push(item);
            }
            ArrayList.prototype.toString = function() {
                return this.array.join('\0');
            }
            ArrayList.prototype.swap = function(m, n) {
                    var temp = this.array[m];
                    this.array[m] = this.array[n];
                    this.array[n] = temp;
                    temp = null;
                }
                // 排序算法：
                // 1. 冒泡排序
                // 21  4  9  45  15
            ArrayList.prototype.bubbleSort = function() {
                    var length = this.array.length;
                    for (var j = 0; j < length - 1; j++) {
                        for (var i = 0; i < length - 1 - j; i++) {
                            if (this.array[i] > this.array[i + 1]) {
                                this.swap(i, i + 1);
                            }
                        }
                    }
                    return this.array;
                }
                // 2.选择排序：
                // 21  4  9  45  15
            ArrayList.prototype.selectionSort = function() {
                    var length = this.array.length;
                    for (var j = 0; j < length - 1; j++) {
                        var min = j;
                        for (var i = j + 1; i < length; i++) {
                            if (this.array[min] > this.array[i]) {
                                min = i;
                            }
                        }
                        this.swap(min, j);
                    }
                    return this.array;
                }
                // 3. 插入排序;
            ArrayList.prototype.insertionSort = function() {
                    var length = this.array.length;
                    for (var i = 1; i < length; i++) {
                        // 无序组的首个元素：
                        var temp = this.array[i];
                        var j = i;
                        while (this.array[j - 1] > temp && j > 0) {
                            this.array[j] = this.array[j - 1];
                            j--;
                        }
                        this.array[j] = temp;
                    }
                    return this.array;
                }
                // 希尔排序：
                // 21  4  9  45  15
            ArrayList.prototype.shellSort = function() {
                var length = this.array.length;
                var gap = Math.floor(length / 2);
                // while循环使得gap逐渐变小
                while (gap >= 1) {
                    // 以gap为间隔，进行分组，对分组进行排序插入
                    for (var i = gap; i < length; i++) {
                        var temp = this.array[i];
                        var j = i;
                        while (this.array[j - gap] > temp && j > gap - 1) {
                            this.array[j] = this.array[j - gap];
                            j -= gap;
                        }
                        this.array[j] = temp;
                    }
                    gap = Math.floor(gap / 2);
                }
                return this.array;
            }
        }
        var test = new ArrayList();
        test.insert(5);
        test.insert(1);
        test.insert(10);
        test.insert(8);
        test.insert(2);
        test.insert(0);
        test.insert(81);
        test.insert(7);
        test.insert(4);
        console.log(test.toString());
        console.log(test.shellSort());
    </script>
</body>

</html>